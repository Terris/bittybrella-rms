# Migration `20200521130257-create-tickets`

This migration has been generated by Terris Kremer at 5/21/2020, 1:02:57 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Ticket" (
"createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" SERIAL,"settled" boolean  NOT NULL DEFAULT false,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Product" ADD COLUMN "ticketId" integer   ;

ALTER TABLE "public"."Product" ADD FOREIGN KEY ("ticketId")REFERENCES "public"."Ticket"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200521124653-create-products-and-menus..20200521130257-create-tickets
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider      = "prisma-client-js"
@@ -26,5 +26,12 @@
   name        String
   description String
   products    Product[]   @relation(references: [id])
   createdAt   DateTime  @default(now())
+}
+
+model Ticket {
+  id          Int       @id @default(autoincrement())
+  settled     Boolean   @default(false)
+  products    Product[]
+  createdAt   DateTime  @default(now())
 }
```


